---
- name: Playbook
  hosts: localhost
  connection: local
  roles:
    - { role: ansible-role-basic, tags: ["basic"] }
    - { role: ansible-role-system, tags: ["system"] }
    - { role: x, tags: ['x'], when: ansible_os_family ==  "Archlinux" } 
    - { role: aur, tags: ["aur"], when: ansible_os_family == "Archlinux" }
    - { role: shell, tags: ["shell"] }
    - { role: dotfiles, tags: ["dotfiles"], when: dotfiles is defined }
    - { role: ansible-role-packages, tags: ["packages"] }
    - { role: ansible-role-pip, tags: ["pip"] }
    - { role: ansible-role-asdf, tags: ["asdf"] }
    - { role: editors, tags: ["editors"] }
    - { role: ansible-role-binaries, tags: ["binaries"], when: ansible_os_family == "Debian" }
    - { role: laptop, tags: ['laptop'], when: "'ThinkPad' in ansible_product_version" }
    - { role: nmtrust, tags: ['nmtrust'] }
    - { role: networkmanager, tags: ['networkmanager'] }    
    - { role: avanov.pyenv, tags: ["python"] }
    - { role: lightdm, tags: ["lightdm"], when: "display_manager == 'lightdm'" }
    - { role: awesomewm, tags: ["awesomewm"], when: "desktop_environment =='awesomewm'" }
    - { role: screensaver, tags: ['screensaver'], when: "display_manager == 'lightdm'" }
    - { role: goesimage, tags: ['goesimage'], when: "goesimage is defined" }
    - { role: taskwarrior, tags: ['taskwarrior'] }
    - { role: browsers, tags: ['browsers'], when: "display_manager == 'lightdm'" }
    - { role: ranger, tags: ['ranger'] }
    - { role: mpv, tags: ['mpv'] }
    - { role: pass, tags: ['pass'] }
    - { role: spell, tags: ['spell'] }
    - { role: clipboard, tags: ['clipboard'] }
